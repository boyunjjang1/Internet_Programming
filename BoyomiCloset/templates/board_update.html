{% include 'head.html' %}
<body>
    {% include 'header.html' %}
    {% include 'nav.html' %}
    <div class="container">
        <h2 class="titleArea" style="color:pink;">board_update</h2>
        <form onsubmit="return validateForm()" class="form-horizontal myform" method="post" id="boardPostForm" action="{{ url_for('board_update', board_id = board_view[0]) }}">
            <div class="form-group">
                <label for="b_id">글번호:</label>
                <input type="text" class="form-control" id="b_id" placeholder="Enter 글번호" name="b_id" value="{{ board_view[0] }}" readonly>
            </div>
            <div class="form-group">
                <label for="u_id">작성자:</label>
                <input type="text" class="form-control" id="u_id" placeholder="Enter 작성자" name="u_id" value="{{ board_view[1] }}" readonly>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="title">제목</label>
                <div class="col-sm-10">
                    <input class="form-control" type="text" id="title" name="title" placeholder="Enter title" value="{{ board_view[2] }}">
                </div>
            </div> 
            <div class="form-group">
                <label class="control-label col-sm-2" for="content">내용</label>
                <div class="col-sm-10">
                    <textarea class="form-control" name="content" id="content" value="{{ board_view[4] }}" cols="30" rows="10"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label for="add_dt">Add datetime:</label>
                <input type="text" class="form-control" id="u_name" min="1900" max="2100" name="add_dt" value="{{ board_view[5] }}" readonly>
            </div>
            <div class="form-group">
                <label for="upd_dt">Update datetime:</label>
                <input type="text" class="form-control" id="u_name" min="1900" max="2100" name="upd_dt" value="{{ board_view[6] }}" readonly>
            </div>
                <div class="form-group text-center">
                    {% if u_id==board_view[1] %} {# 현재 세션의 유저와 가져온 게시글의 유저가 같은 경우 #}
                    <button type="submit" class="btn btn-default my-3 mx-2">게시판 글 수정 저장</button>
                    {% endif %}
                    <a href="{{ url_for('board_view', board_id=board_view[0] ) }}" class="btn btn-primary mx-2 text-center">이전 화면</a>
                </div>  
        </form>
    </div>
<script>
    function validateForm(){
        var title = document.getElementById("title").value;
        if(title == ""){
            alert("제목을 입력해주세요.");
            document.getElementById("title").focus();
            return false;
        }
        var content = document.getElementById("content").value;
        if(content == ""){
            alert("내용을 입력해주세요.");
            document.getElementById("content").focus();
            return false;
        }
    }
</script>
</body>